/*! microplugin.js | https://github.com/brianreavis/microplugin.js | Apache License (v2) */
"use strict";var isActualNaN;var isArgs;var isFn;var objProto;var owns;var symbolValueOf;var toStr;objProto=Object.prototype;owns=objProto.hasOwnProperty;toStr=objProto.toString;symbolValueOf=void 0;if(typeof Symbol==="function"){symbolValueOf=Symbol.prototype.valueOf}isActualNaN=function(r){return r!==r};var isEqual=function(r,t){var e,n;if(r===t){return true}n=toStr.call(r);if(n!==toStr.call(t)){return false}if(n==="[object Object]"){for(e in r){if(!isEqual(r[e],t[e])||!(e in t)){return false}}for(e in t){if(!isEqual(r[e],t[e])||!(e in r)){return false}}return true}if(n==="[object Array]"){e=r.length;if(e!==t.length){return false}while(e--){if(!isEqual(r[e],t[e])){return false}}return true}if(n==="[object Function]"){return r.prototype===t.prototype}if(n==="[object Date]"){return r.getTime()===t.getTime()}return false};var isArrayLike=function(r){return!!r&&!isBool(r)&&owns.call(r,"length")&&isFinite(r.length)&&isNumber(r.length)&&r.length>=0};var isArguments=isArgs=function(r){var t,e;e=toStr.call(r)==="[object Arguments]";t=!isArray(r)&&isArrayLike(r)&&isObject(r)&&isFn(r.callee);return e||t};var isArray=Array.isArray||function(r){return toStr.call(r)==="[object Array]"};var isBool=function(r){return toStr.call(r)==="[object Boolean]"};var isFunction=isFn=function(r){var t,e;t=typeof window!=="undefined"&&r===window.alert;if(t){return true}e=toStr.call(r);return e==="[object Function]"||e==="[object GeneratorFunction]"||e==="[object AsyncFunction]"};var isNumber=function(r){return toStr.call(r)==="[object Number]"};var isObject=function(r){return toStr.call(r)==="[object Object]"};const MicroPlugin={};MicroPlugin.mixin=function(r){r.plugins={};r.prototype.initializePlugins=function(r){var t,e,n;var i=this;var o=[];i.plugins={names:[],settings:{},requested:{},loaded:{}};if(isArray(r)){for(t=0,e=r.length;t<e;t++){if(typeof r[t]==="string"){o.push(r[t])}else{i.plugins.settings[r[t].name]=r[t].options;o.push(r[t].name)}}}else if(r){for(n in r){if(r.hasOwnProperty(n)){i.plugins.settings[n]=r[n];o.push(n)}}}while(o.length){i.require(o.shift())}};r.prototype.loadPlugin=function(t){var e=this;var n=e.plugins;var i=r.plugins[t];if(!r.plugins.hasOwnProperty(t)){throw new Error('Unable to find "'+t+'" plugin')}n.requested[t]=true;n.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]);n.names.push(t)};r.prototype.require=function(r){var t=this;var e=t.plugins;if(!t.plugins.loaded.hasOwnProperty(r)){if(e.requested[r]){throw new Error('Plugin has circular dependency ("'+r+'")')}t.loadPlugin(r)}return e.loaded[r]};r.define=function(t,e){r.plugins[t]={name:t,fn:e}}};module.exports=MicroPlugin;